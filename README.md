### Beam Simulation Container (radiasoft/beamsim)
The following particle accelerator and free electron laser (FEL) simulation
codes are installed in the radiasoft/beamsim container:

* [elegant](http://www.aps.anl.gov/Accelerator_Systems_Division/Accelerator_Operations_Physics/software.shtml#elegant)
  is an accelerator code that computes beta functions, matrices,
  orbits, floor coordinates, amplification factors, dynamic aperture,
  and more. It does 6-D tracking with matrices and/or canonical
  integrators, and supports a variety of time-dependent elements.
* [Genesis 1.3 (3.0 beta)](http://genesis.web.psi.ch)
  is a time-dependent three-dimensional free electron laser (FEL)
  code, which simulates single-pass free-electron lasers, both FEL
  amplifier and SASE FEL, although the flexible input can be used to
  easily extend the capacity to cover FEL oscillators or multistage
  set-ups.
* [Hellweg](https://github.com/radiasoft/rslinac) simulates
  high-average-power, traveling wave (TW) electron linacs, including
  the important effects of beam loading. It can also be used for
  modeling beam transport with a variety of standard elements.
* [OPAL](https://gitlab.psi.ch/OPAL/src/wikis/home) (Object Oriented
  Particle Accelerator Library) is an open source C++ framework for
  general particle accelerator simulations including 3D space charge,
  short range wake fields and particle matter interaction.
* [Shadow3](http://forge.epn-campus.eu/projects/shadow3)
  is used to study propagation of a photon beam through an optical
  system. The program is general, but is optimized for the case of
  X-rays and reflective optics such as those encountered in the XUV
  and in Synchrotron Radiation.
* [SRW](https://github.com/ochubar/SRW)
  is a physical optics computer code for calculation of detailed
  characteristics of Synchrotron Radiation (SR) generated by
  relativistic electrons in magnetic fields of arbitrary configuration
  and for simulation of the radiation wavefront propagation through
  optical systems of beamlines.
* [Synergia](https://web.fnal.gov/sites/Synergia)
  implements fully
  nonlinear and symplectic independent-particle physics, as well as
  symplectic linear maps and arbitrary-order polynomial maps. It
  includes collective effects, including space charge and wake fields,
  in various approximations ranging from the very simple to
  computationally-intense, 3-dimensional field calculations.
* [Warp](http://warp.lbl.gov)
  simulates charged particle beams with high space-charge intensity
  with the ability to simulate Warped (bent) Cartesian meshes. This
  bent-mesh capability allows the code to efficiently simulate
  space-charge effects in bent accelerator lattices (resolution can be
  placed where needed) associated with rings and beam transfer lines
  with dipole bends.


### ~/rsmanifest.json

All codes installed with `codes_download` will be added to `~/rsmanifest.json`,
which describes a code, e.g.


```
"srw": {
    "installed": "2017-02-18T04:50:22Z",
    "name": "SRW",
    "source_d": "/home/vagrant/src/radiasoft/codes/srw-20170218.045013/bnlcrl/SRW-light",
    "uri": "https://github.com/radiasoft/SRW-light.git",
    "version": "db9a8082a4e9ab901de4311fbb94d4a4306d390e"
},
```

If a code is not based on Python, it will be found in `codes['']`, e.g.
`codes['']['elegant']`. However, if a code has python scripts (literally
searching for `*.py` in the source directory), then it will be in
a virtual environment (venv), e.g. `codes['py2']['srw']`. Note that the
names are lower case for looking up in the index, but the case sensitive
name will be in the code's meta data (`name`).

The `source_d` is where the source of the build is saved.

See [pykern.pkcli.rsmanifest](https://github.com/radiasoft/pykern/blob/master/pykern/pkcli/rsmanifest.py) for how the file is generated.

### New Codes

You can add new codes by writing a bash script in the `codes` subdir.
Look through example codes to try out. You can test installs with:

```
bash codes.sh <code>.sh
```

You should always depend on:

```
codes_dependencies common
```


### Build Info

* [Vagrant repository](https://atlas.hashicorp.com/radiasoft/boxes/beamsim)
* [Docker repository](https://hub.docker.com/r/radiasoft/beamsim)
* [Base container config: radiasoft/python2](https://github.com/radiasoft/containers/tree/master/vagrant/radiasoft/python2).
